(this["webpackJsonpphonebook-front"]=this["webpackJsonpphonebook-front"]||[]).push([[0],{38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t(2),o=t.n(c),r=t(14),u=t.n(r),i=t(3),s=t(4),d=t.n(s),j="http://localhost:3001/api/persons/",l=function(){return d.a.get(j)},b=function(e){return d.a.post(j,e)},f=function(e){var n=j+e;return console.log(n),d.a.delete(n)},h=function(e,n){return d.a.put(j+e,n)},m=(t(38),function(e){var n=e.handleChange,t=e.value;return Object(a.jsxs)("div",{children:["filter ",Object(a.jsx)("input",{onChange:n,value:t})]})}),O=function(e){var n=e.newName,t=e.handleNameChange,c=e.newNumber,o=e.handleNumberChange,r=e.handleAddClick;return Object(a.jsxs)("form",{children:[Object(a.jsxs)("div",{children:["name: ",Object(a.jsx)("input",{onChange:t,value:n})]}),Object(a.jsxs)("div",{children:["number: ",Object(a.jsx)("input",{onChange:o,value:c})]}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{type:"submit",onClick:r,children:"add"})})]})},v=function(e){var n=e.person,t=e.handleRemovePerson;return Object(a.jsxs)("div",{children:[n.name," ",n.number," ",Object(a.jsx)("button",{"data-id":n.id,"data-name":n.name,onClick:t,children:"delete"})]})},p=function(e){var n=e.message;return""===n?null:Object(a.jsx)("div",{className:"notification",children:n})},x=function(e){var n=e.message;return""===n?null:Object(a.jsx)("div",{className:"error",children:n})},g=function(){return Object(a.jsx)("h2",{children:"Numbers"})},C=function(){var e=Object(c.useState)([]),n=Object(i.a)(e,2),t=n[0],o=n[1],r=Object(c.useState)(""),u=Object(i.a)(r,2),s=u[0],d=u[1],j=Object(c.useState)(""),C=Object(i.a)(j,2),w=C[0],k=C[1],N=Object(c.useState)(""),S=Object(i.a)(N,2),L=S[0],y=S[1],P=Object(c.useState)(""),R=Object(i.a)(P,2),A=R[0],D=R[1],E=Object(c.useState)(""),J=Object(i.a)(E,2),T=J[0],B=J[1];Object(c.useEffect)((function(){l().then((function(e){o(e.data)}))}),[]);var I=function(e){M(e.target.dataset.name)&&f(e.target.dataset.id).then((function(n){o(t.filter((function(n){return n.id!==+e.target.dataset.id})))}))},M=function(e){return window.confirm("Delete ".concat(e))},q=function(){return{name:s,number:w}},z=function(e){D(e),setTimeout((function(){return D("")}),5e3)},F=function(e){B(e),setTimeout((function(){return B("")}),5e3)};return Object(a.jsxs)("div",{children:[Object(a.jsx)(p,{message:A}),Object(a.jsx)(x,{message:T}),Object(a.jsx)("h2",{children:"Phonebook"}),Object(a.jsx)(m,{handleChange:function(e){y(e.target.value)},value:L}),Object(a.jsx)(O,{newName:s,handleNameChange:function(e){d(e.target.value)},newNumber:w,handleNumberChange:function(e){k(e.target.value)},handleAddClick:function(e){e.preventDefault(),t.find((function(e){return e.name.toLowerCase()===s.toLowerCase()}))?window.confirm("".concat(s," is already in phonebook. Replace old number with new one?"))&&function(){var e=q(),n=t.find((function(e){return e.name.toLowerCase()===s.toLowerCase()})).id;h(n,e).then((function(e){o(t.map((function(t){return t.id!==n?t:e.data}))),z("Number for ".concat(s," updated to ").concat(w))})).catch((function(){F("".concat(s," already removed from phonebook")),o(t.filter((function(e){return e.id!==n})))}))}():function(){var e=q();b(e).then((function(e){o(t.concat(e.data)),z("".concat(s," added to phonebook"))}))}(),d(""),k("")}}),Object(a.jsx)(g,{}),t.filter((function(e){return-1!==e.name.toLowerCase().indexOf(L.toLowerCase())})).map((function(e){return Object(a.jsx)(v,{person:e,handleRemovePerson:I},e.name)}))]})};u.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(C,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.6a8d8ad1.chunk.js.map