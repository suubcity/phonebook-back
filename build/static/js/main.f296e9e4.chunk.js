(this["webpackJsonpphonebook-front"]=this["webpackJsonpphonebook-front"]||[]).push([[0],{38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t(2),c=t.n(o),r=t(14),i=t.n(r),s=t(3),u=t(4),d=t.n(u),j="http://localhost:3001/api/persons/",l=function(){return d.a.get(j)},b=function(e){return d.a.post(j,e)},f=function(e){return d.a.delete("".concat(j).concat(e))},h=function(e,n){return d.a.put(j+e,n)},m=(t(38),function(e){var n=e.handleChange,t=e.value;return Object(a.jsxs)("div",{children:["filter ",Object(a.jsx)("input",{onChange:n,value:t})]})}),O=function(e){var n=e.newName,t=e.handleNameChange,o=e.newNumber,c=e.handleNumberChange,r=e.handleAddClick;return Object(a.jsxs)("form",{children:[Object(a.jsxs)("div",{children:["name: ",Object(a.jsx)("input",{onChange:t,value:n})]}),Object(a.jsxs)("div",{children:["number: ",Object(a.jsx)("input",{onChange:c,value:o})]}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{type:"submit",onClick:r,children:"add"})})]})},p=function(e){var n=e.person,t=e.handleRemovePerson;return Object(a.jsxs)("div",{children:[n.name," ",n.number," ",Object(a.jsx)("button",{"data-id":n.id,"data-name":n.name,onClick:t,children:"delete"})]})},g=function(e){var n=e.message;return""===n?null:Object(a.jsx)("div",{className:"notification",children:n})},v=function(e){var n=e.message;return""===n?null:Object(a.jsx)("div",{className:"error",children:n})},x=function(){return Object(a.jsx)("h2",{children:"Numbers"})},C=function(){var e=Object(o.useState)([]),n=Object(s.a)(e,2),t=n[0],c=n[1],r=Object(o.useState)(""),i=Object(s.a)(r,2),u=i[0],d=i[1],j=Object(o.useState)(""),C=Object(s.a)(j,2),w=C[0],N=C[1],k=Object(o.useState)(""),A=Object(s.a)(k,2),E=A[0],L=A[1],S=Object(o.useState)(""),y=Object(s.a)(S,2),P=y[0],R=y[1],T=Object(o.useState)(""),V=Object(s.a)(T,2),B=V[0],I=V[1];Object(o.useEffect)((function(){l().then((function(e){c(e.data)}))}),[]);var J=function(e){M(e.target.dataset.name)&&f(e.target.dataset.id).then((function(n){c(t.filter((function(n){return n.id!==e.target.dataset.id}))),F("".concat(e.target.dataset.name," has been removed from phonebook."))}))},M=function(e){return window.confirm("Delete ".concat(e))},D=function(){return{name:u,number:w}},F=function(e){R(e),setTimeout((function(){return R("")}),5e3)},U=function(e){I(e),setTimeout((function(){return I("")}),15e3)};return Object(a.jsxs)("div",{children:[Object(a.jsx)(g,{message:P}),Object(a.jsx)(v,{message:B}),Object(a.jsx)("h2",{children:"Phonebook"}),Object(a.jsx)(m,{handleChange:function(e){L(e.target.value)},value:E}),Object(a.jsx)(O,{newName:u,handleNameChange:function(e){d(e.target.value)},newNumber:w,handleNumberChange:function(e){N(e.target.value)},handleAddClick:function(e){e.preventDefault(),t.find((function(e){return e.name.toLowerCase()===u.toLowerCase()}))?window.confirm("".concat(u," is already in phonebook. Replace old number with new one?"))&&function(){var e=D(),n=t.find((function(e){return e.name.toLowerCase()===u.toLowerCase()})).id;h(n,e).then((function(e){c(t.map((function(t){return t.id!==n?t:e.data}))),F("Number for ".concat(u," updated to ").concat(w))})).catch((function(e){console.log("######","VARIABLE NAME:","error.response.data","TYPEOF:",typeof e.response.data,"VALUE:",e.response.data,"######"),console.log("######","VARIABLE NAME:","error.message","TYPEOF:",typeof e.message,"VALUE:",e.message,"######"),console.log(e.message),U(JSON.stringify(e.response.data))}))}():function(){var e=D();b(e).then((function(e){c(t.concat(e.data)),F("".concat(u," added to phonebook"))}))}(),d(""),N("")}}),Object(a.jsx)(x,{}),t.filter((function(e){return-1!==e.name.toLowerCase().indexOf(E.toLowerCase())})).map((function(e){return Object(a.jsx)(p,{person:e,handleRemovePerson:J},e.name)}))]})};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(C,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.f296e9e4.chunk.js.map